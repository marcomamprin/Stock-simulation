<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Price Simulation</title>
    <script async src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="script.js" defer></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Portfolio Management Tool</h1>
            <button id="darkModeToggle">🌙 Dark Mode</button>
        </header>

    <div class="controls">
        <label>📈 Number of Simulations: <input type="number" id="numStocks" value="10" min="1" max="500" oninput="validateInteger(this, 1, 500)"></label>
        <label>⏳ Time Period (Years): <input type="number" id="timePeriod" value="20" min="1" max="150" oninput="validateInteger(this, 1, 150)"></label>
        <label>💵 Initial Portfolio Price: <input type="number" id="initialPrice" value="1000" min="0" step="1000" oninput="validateInteger(this, 0, Infinity)"></label>
        <label>💰 Additional Deposit: <input type="number" id="depositAmount" value="50" min="0" step="50" oninput="validateInteger(this, 0, Infinity)"></label>
        <label>📅 Deposit Frequency:
            <select id="depositFrequency">
                <option value="daily">Daily</option>
                <option value="monthly" selected>Monthly</option>
                <option value="yearly">Yearly</option>
            </select>
        </label>
    </div>
    <div class="controls">
        <label>📊 Expected Return: <input type="number" id="mu" value="12.0" step="0.5" min="0" oninput="validateDecimal(this, 0, Infinity, 1)"></label>
        <label>📉 Volatility: <input type="number" id="sigma" value="15.0" step="0.5" min="0" oninput="validateDecimal(this, 0, Infinity, 1)"></label>
        <div class="center-button">
            <button onclick="simulate()">🔄 Run Simulation</button>
        </div>
    </div>

    <div id="returnsContainer">
        <div id="plot"></div>
    </div>
    
    <div id="plotContainer">
        <div id="plot"></div>
    </div>
        
    <div id="performanceTableContainer" style="display: none;">
        <h2>📊 Performance Summary</h2>
        <table id="performanceTable">
            <thead>
                <tr>
                    <th>Year</th>
                    <th>Optimistic Scenarios 10% Avg Return (€)</th>
                    <th>Pessimistic Scenarios 10% Avg Return (€)</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <footer>
        <p>&copy; 2025 Marco Mamprin. All rights reserved.</p>
        <p>This tool is intended for educational and informational purposes only. It does not provide financial, investment, or legal advice. The simulations and data presented are based on mathematical models and historical assumptions, which do not guarantee future performance. Users should conduct their own research and consult with a professional before making any financial or investment decisions. The creators of this tool are not responsible for any losses incurred from its use.</p>
    </footer>
</body>
</html>
